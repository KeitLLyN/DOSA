<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Main Page</title>
</head>
<body>

<div>
	<h1 th:inline="text">Hello [[${#httpServletRequest.remoteUser}]]!</h1>
	<p><b>Have a nice day.</b></p>
	<form th:action="@{/logout}" method="post">
		<input type="submit" value="Sign Out"/>
		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
	</form>
</div>

<div>
	<form method="post" th:action="@{/main}">
		<label for="text">Сообщение</label>
		<input id="text" type="text" name="text"/>

		<label for="tag">Тэг</label>
		<input id="tag" type="text" name="tag"/>

		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

		<button type="submit">Добавить</button>
	</form>
</div>

<div>Список сообщений</div>

<div>
	<form method="get" th:action="@{/main}">
		<label for="filter">Фильтр</label>
		<input id="filter" type="text" name="filter"/>
		<button type="submit">Найти</button>
	</form>
</div>


<div th:each="message : ${messages}">
	<b th:text="${message.id}"></b>
	<span th:text="${message.text}"></span>
	<i th:text="${message.tag}"></i>
	<strong th:text="${message.authorName}"></strong>
</div>


</body>
</html>